(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{7142:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/[id]/ranking",function(){return t(1516)}])},4443:function(e,r,t){"use strict";var n=t(5893),s=t(162);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}r.Z=function(e){var r,t,i=e.errors,a=e.schema,o=e.register,l=e.label,d=e.defaultValue;return(0,n.jsxs)("div",{className:"border-[1px] border-solid border-gray-400 flex items-center rounded-md w-full h-[90px]",children:[(0,n.jsxs)("div",{className:"border-r-[1px] border-solid border-gray-400 border-t-0 w-[30%] h-full border-b-0 border-l-0 flex items-center justify-center text-gray-600 flex-col",children:[(0,n.jsx)("p",{children:l}),(0,n.jsx)("p",{className:"text-xs",children:"name"===a&&"(\u4ed6\u30e6\u30fc\u30b6\u30fc\u306b\u8868\u793a\u3055\u308c\u307e\u3059)"})]}),(0,n.jsx)(s.Z,c({id:"filled-error-helper-text",label:"".concat(l,"\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),variant:"filled"},o(a),{error:null===(r=i[a])||void 0===r?void 0:r.message,helperText:null===(t=i[a])||void 0===t?void 0:t.message,sx:{width:"70%",padding:"5px"},defaultValue:d,type:a.indexOf("pass")>-1?"password":"text"}))]})}},9039:function(e,r,t){"use strict";var n=t(5893),s=(t(7294),t(2739)),i=function(e){var r;return(null===(r=e.message)||void 0===r?void 0:r.startsWith("Network Error"))?"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u304c\u3042\u308a\u307e\u305b\u3093":400===e.status?"\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u3059":404===e.status?"\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f":429===e.status?"\u4e00\u5b9a\u6642\u9593\u5185\u306b\u591a\u304f\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3057\u305f":e.status>=500?"\u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002":void 0};r.Z=function(e){var r=e.isLoading,t=e.error,c=e.children;return 401===(null===t||void 0===t?void 0:t.status)?(0,n.jsx)(s.Z,{viewPage:"boundary"}):t?(0,n.jsx)("p",{children:i(t)}):r?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(n.Fragment,{children:c})}},2739:function(e,r,t){"use strict";var n=t(4051),s=t.n(n),i=t(5893),c=t(7536),a=t(5496),o=t(1163),l=t(4931),d=t(4443),u=t(2856),m=t(8111),x=t(4010),f=t(2148);function h(e,r,t,n,s,i,c){try{var a=e[i](c),o=a.value}catch(l){return void t(l)}a.done?r(o):Promise.resolve(o).then(n,s)}function p(e){return function(){var r=this,t=arguments;return new Promise((function(n,s){var i=e.apply(r,t);function c(e){h(i,n,s,c,a,"next",e)}function a(e){h(i,n,s,c,a,"throw",e)}c(void 0)}))}}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){b(e,r,t[r])}))}return e}r.Z=function(e){var r=e.viewPage,t=(0,o.useRouter)(),n=(0,m.qD)().setUser,h=(0,x.a)().login,b=(0,c.cI)({resolver:(0,a.X)(f.pj)}),j=b.register,g=b.handleSubmit,w=b.formState.errors,y=function(){var e=p(s().mark((function e(i){var c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){var e=p(s().mark((function e(i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(v({},i));case 2:l.ZP.success("\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002"),"loginPage"===r&&t.push("/user");case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h({email:i.email,password:i.password,callback:c});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{className:"flex flex-col justify-center items-center w-full bg-white p-10",children:["boundary"===r&&(0,i.jsx)("div",{className:"flex flex-col items-center justify-center mt-10",children:(0,i.jsx)("p",{className:"text-red-500",children:"\u30ed\u30b0\u30a4\u30f3\u671f\u9650\u304c\u5207\u308c\u307e\u3057\u305f\u3002\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}),(0,i.jsx)("h2",{children:"\u30ed\u30b0\u30a4\u30f3"}),(0,i.jsx)("div",{className:"w-4/5 my-5",children:(0,i.jsx)(d.Z,{register:j,errors:w,schema:"email",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"})}),(0,i.jsx)("div",{className:"w-4/5 mb-10",children:(0,i.jsx)(d.Z,{register:j,errors:w,schema:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9"})}),(0,i.jsx)(u.Z,{onClick:g(y),text:"\u30ed\u30b0\u30a4\u30f3"})]}),"loginPage"===r&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10",children:[(0,i.jsx)("h4",{children:"\u4f1a\u54e1\u767b\u9332\u306f\u3053\u3061\u3089\u304b\u3089"}),(0,i.jsx)(u.Z,{onClick:function(){return t.push("/register")},text:"\u4f1a\u54e1\u767b\u9332",type:"outlined"})]}),(0,i.jsx)(l.x7,{position:"bottom-center"})]})}},8735:function(e,r,t){"use strict";var n=t(5893);r.Z=function(e){var r=e.title,t=e.onClick,s=e.width,i=void 0===s?"m":s,c=e.selected,a=e.isMb,o=void 0===a||a,l=r.name.indexOf("Master")>-1?"border-[#d6c25b]":"border-gray-300",d="s"===i?"w-[100px]":"m"===i?"w-[250px]":"w-[24%]",u=r.id===(null===c||void 0===c?void 0:c.id)?"border-[#1C73BD] border-4":"border-2 ".concat(l);return(0,n.jsx)("img",{src:r.url,className:"rounded-md shadow-md border-solid ".concat(d," ").concat(u," ").concat(o&&"mb-2"),onClick:function(){return t&&t(r)}})}},1516:function(e,r,t){"use strict";t.r(r);var n=t(5893),s=t(1163),i=t(1056),c=t(2856),a=t(9039),o=t(8735),l=t(2429),d=t(8111),u=t(5163);r.default=function(){var e=(0,s.useRouter)(),r=(0,d.qD)().user,t=(0,l.YE)(u.EP.appRanking(String(e.query.id))),m=t.data,x=t.error;(0,l.Z6)({isLoading:!m,error:x,isAuthApi:!0});var f=function(r){var t=r.id,s=r.name,c=r.icon,a=r.score,l=r.rank,d=r.title,u=r.isMine,m="bg-[#939393]",x="text-black font-bold";switch(l){case 0:m="bg-gradient-to-b from-[#d6c25b] to-[#f7eaa9]";break;case 1:m="bg-gradient-to-b from-[#b1b1b1] to-[#e9e9e9]";break;case 2:m="bg-gradient-to-b from-[#e2be9c] to-[#fae1c9]";break;default:m="bg-gradient-to-b from-[#686868] to-[#acacac]",x="text-white font-bold"}return(0,n.jsxs)("div",{className:"w-3/4 bg-white rounded-md py-2 px-14 text-bold shadow-md flex items-center justify-between relative my-3 hover:bg-[#eee] cursor-pointer",onClick:function(){return e.push("/user/".concat(t))},children:[(0,n.jsx)("div",{className:"absolute top-[-10px] left-[-10px] h-10 w-10 flex items-center justify-center rounded-full  "+m,children:(0,n.jsx)("p",{className:"text-lg "+x,children:l+1})}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"bg-white rounded-full flex items-center justify-center",children:(0,n.jsx)(i.Z,{src:c})}),(0,n.jsxs)("div",{className:"ml-5",children:[(0,n.jsx)("div",{className:"flex items-center",children:u?(0,n.jsx)("p",{className:"text-sm text-[#888]",children:"\u3042\u306a\u305f\u306e\u9806\u4f4d"}):(0,n.jsx)(o.Z,{width:"s",title:d,isMb:!1})}),(0,n.jsx)("p",{className:"text-xl max-w-[250px]",children:s})]})]}),(0,n.jsxs)("div",{className:"flex items-baseline",children:[(0,n.jsx)("p",{className:"mr-10",children:"Point"}),(0,n.jsx)("p",{className:"text-2xl",children:a.toLocaleString()})]})]})};return(0,n.jsx)("div",{className:"flex flex-col w-full items-center justify-center rounded-md ",children:(0,n.jsxs)(a.Z,{error:x,isLoading:!m,children:[(0,n.jsx)("h2",{children:"\u30e9\u30f3\u30ad\u30f3\u30b0"}),(0,n.jsxs)("div",{className:"flex items-center justify-around w-full mt-2 mb-5",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:null===m||void 0===m?void 0:m.icon,className:"w-10"}),(0,n.jsx)("p",{className:"font-bold text-xl ml-3",children:null===m||void 0===m?void 0:m.name})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("p",{className:"text-md ml-3",children:"\u6311\u6226\u8005"}),(0,n.jsx)("p",{className:"font-bold text-xl ml-3",children:null===m||void 0===m?void 0:m.challenger.toLocaleString()})]})]}),m&&m.myRank.score>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{id:r.id,name:r.name,icon:r.icon,score:null===m||void 0===m?void 0:m.myRank.score,isMine:!0,rank:null===m||void 0===m?void 0:m.myRank.rank,title:r.title}),(0,n.jsxs)("div",{className:"text-xs font-bold",children:[(0,n.jsx)("p",{children:"\u30fb"}),(0,n.jsx)("p",{children:"\u30fb"}),(0,n.jsx)("p",{children:"\u30fb"})]})]}),(0,n.jsx)("div",{className:"overflow-scroll flex flex-col w-full items-center ".concat(m&&m.myRank.score>0?"h-[470px]":"h-[600px]"),children:null===m||void 0===m?void 0:m.ranking.map((function(e,r){return(0,n.jsx)(f,{id:e.id,name:e.name,icon:e.icon,score:e.score,rank:r,title:e.title},r)}))}),(0,n.jsxs)("div",{className:"w-3/5 flex justify-between mt-5",children:[(0,n.jsx)(c.Z,{type:"outlined",text:"\u30a2\u30d7\u30ea\u9078\u629e",onClick:function(){return e.push("/apps")}}),(0,n.jsx)(c.Z,{type:"back"})]})]})})}},2148:function(e,r,t){"use strict";t.d(r,{pj:function(){return o},Tu:function(){return l},CG:function(){return d}});var n=t(4231),s="\u306f\u5fc5\u9808\u9805\u76ee\u3067\u3059\u3002",i="\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",c="\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a="\u82f1\u5b57\u3068\u6570\u5b57\u3092\u542b\u3081\u305f8-24\u6587\u5b57\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",o=n.Ry().shape({email:n.Z_().email(c).required("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9".concat(s)),password:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s))}),l=n.Ry().shape({email:n.Z_().email(c).required("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9".concat(s)),password:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s)),passConfirm:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s)).oneOf([n.iH("password")],"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"),name:n.Z_().max(20,"20\u6587\u5b57".concat(i)).required("\u30e6\u30fc\u30b6\u30fc\u540d".concat(s))}),d=n.Ry().shape({icon:n.nK(),name:n.Z_().max(20,"20\u6587\u5b57".concat(i)).required("\u30e6\u30fc\u30b6\u30fc\u540d".concat(s))})}},function(e){e.O(0,[885,630,931,669,715,53,218,205,774,888,179],(function(){return r=7142,e(e.s=r);var r}));var r=e.O();_N_E=r}]);