(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{8262:function(e,r,t){"use strict";t.d(r,{Z:function(){return S}});var n=t(3366),s=t(7462),i=t(7294),l=t(6010),a=t(7192),o=t(7579),c=t(8216),d=t(4024),u=t(6628),x=t(5113),p=t(7623),m=t(4786),f=t(2339);function h(e){return(0,f.Z)("MuiDialog",e)}var b=(0,t(6087).Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var v=(0,i.createContext)({}),j=t(7227),w=t(2734),y=t(5893);const g=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Z=(0,m.ZP)(j.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,r)=>r.backdrop})({zIndex:-1}),N=(0,m.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,r)=>r.root})({"@media print":{position:"absolute !important"}}),k=(0,m.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.container,r[`scroll${(0,c.Z)(t.scroll)}`]]}})((({ownerState:e})=>(0,s.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),P=(0,m.ZP)(x.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`scrollPaper${(0,c.Z)(t.scroll)}`],r[`paperWidth${(0,c.Z)(String(t.maxWidth))}`],t.fullWidth&&r.paperFullWidth,t.fullScreen&&r.paperFullScreen]}})((({theme:e,ownerState:r})=>(0,s.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===r.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===r.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===r.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${b.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},"xs"!==r.maxWidth&&{maxWidth:`${e.breakpoints.values[r.maxWidth]}${e.breakpoints.unit}`,[`&.${b.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[r.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${b.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})));var S=i.forwardRef((function(e,r){const t=(0,p.Z)({props:e,name:"MuiDialog"}),d=(0,w.Z)(),m={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":b,BackdropComponent:j,BackdropProps:S,children:W,className:C,disableEscapeKeyDown:_=!1,fullScreen:O=!1,fullWidth:D=!1,maxWidth:M="sm",onBackdropClick:B,onClose:E,open:$,PaperComponent:R=x.Z,PaperProps:T={},scroll:A="paper",TransitionComponent:F=u.Z,transitionDuration:q=m,TransitionProps:z}=t,K=(0,n.Z)(t,g),X=(0,s.Z)({},t,{disableEscapeKeyDown:_,fullScreen:O,fullWidth:D,maxWidth:M,scroll:A}),L=(e=>{const{classes:r,scroll:t,maxWidth:n,fullWidth:s,fullScreen:i}=e,l={root:["root"],container:["container",`scroll${(0,c.Z)(t)}`],paper:["paper",`paperScroll${(0,c.Z)(t)}`,`paperWidth${(0,c.Z)(String(n))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return(0,a.Z)(l,h,r)})(X),I=i.useRef(),Y=(0,o.Z)(b),H=i.useMemo((()=>({titleId:Y})),[Y]);return(0,y.jsx)(N,(0,s.Z)({className:(0,l.Z)(L.root,C),BackdropProps:(0,s.Z)({transitionDuration:q,as:j},S),closeAfterTransition:!0,BackdropComponent:Z,disableEscapeKeyDown:_,onClose:E,open:$,ref:r,onClick:e=>{I.current&&(I.current=null,B&&B(e),E&&E(e,"backdropClick"))},ownerState:X},K,{children:(0,y.jsx)(F,(0,s.Z)({appear:!0,in:$,timeout:q,role:"presentation"},z,{children:(0,y.jsx)(k,{className:(0,l.Z)(L.container),onMouseDown:e=>{I.current=e.target===e.currentTarget},ownerState:X,children:(0,y.jsx)(P,(0,s.Z)({as:R,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":Y},T,{className:(0,l.Z)(L.paper,T.className),ownerState:X,children:(0,y.jsx)(v.Provider,{value:H,children:W})}))})}))}))}))},8817:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t(8118)}])},4443:function(e,r,t){"use strict";var n=t(5893),s=t(162);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}r.Z=function(e){var r,t,i=e.errors,a=e.schema,o=e.register,c=e.label,d=e.defaultValue;return(0,n.jsxs)("div",{className:"border-[1px] border-solid border-gray-400 flex items-center rounded-md w-full h-[90px]",children:[(0,n.jsxs)("div",{className:"border-r-[1px] border-solid border-gray-400 border-t-0 w-[30%] h-full border-b-0 border-l-0 flex items-center justify-center text-gray-600 flex-col",children:[(0,n.jsx)("p",{children:c}),(0,n.jsx)("p",{className:"text-xs",children:"name"===a&&"(\u4ed6\u30e6\u30fc\u30b6\u30fc\u306b\u8868\u793a\u3055\u308c\u307e\u3059)"})]}),(0,n.jsx)(s.Z,l({id:"filled-error-helper-text",label:"".concat(c,"\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),variant:"filled"},o(a),{error:null===(r=i[a])||void 0===r?void 0:r.message,helperText:null===(t=i[a])||void 0===t?void 0:t.message,sx:{width:"70%",padding:"5px"},defaultValue:d,type:a.indexOf("pass")>-1?"password":"text"}))]})}},9039:function(e,r,t){"use strict";var n=t(5893),s=(t(7294),t(2739)),i=function(e){var r;return(null===(r=e.message)||void 0===r?void 0:r.startsWith("Network Error"))?"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u304c\u3042\u308a\u307e\u305b\u3093":400===e.status?"\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u3059":404===e.status?"\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f":429===e.status?"\u4e00\u5b9a\u6642\u9593\u5185\u306b\u591a\u304f\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3057\u305f":e.status>=500?"\u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002":void 0};r.Z=function(e){var r=e.isLoading,t=e.error,l=e.children;return 401===(null===t||void 0===t?void 0:t.status)?(0,n.jsx)(s.Z,{viewPage:"boundary"}):t?(0,n.jsx)("p",{children:i(t)}):r?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(n.Fragment,{children:l})}},2739:function(e,r,t){"use strict";var n=t(4051),s=t.n(n),i=t(5893),l=t(7536),a=t(5496),o=t(1163),c=t(4931),d=t(4443),u=t(2856),x=t(8111),p=t(4010),m=t(2148);function f(e,r,t,n,s,i,l){try{var a=e[i](l),o=a.value}catch(c){return void t(c)}a.done?r(o):Promise.resolve(o).then(n,s)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(n,s){var i=e.apply(r,t);function l(e){f(i,n,s,l,a,"next",e)}function a(e){f(i,n,s,l,a,"throw",e)}l(void 0)}))}}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){b(e,r,t[r])}))}return e}r.Z=function(e){var r=e.viewPage,t=(0,o.useRouter)(),n=(0,x.qD)().setUser,f=(0,p.a)().login,b=(0,l.cI)({resolver:(0,a.X)(m.pj)}),j=b.register,w=b.handleSubmit,y=b.formState.errors,g=function(){var e=h(s().mark((function e(i){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=function(){var e=h(s().mark((function e(i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(v({},i));case 2:c.ZP.success("\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002"),"loginPage"===r&&t.push("/user");case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f({email:i.email,password:i.password,callback:l});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{className:"flex flex-col justify-center items-center w-full bg-white p-10",children:["boundary"===r&&(0,i.jsx)("div",{className:"flex flex-col items-center justify-center mt-10",children:(0,i.jsx)("p",{className:"text-red-500",children:"\u30ed\u30b0\u30a4\u30f3\u671f\u9650\u304c\u5207\u308c\u307e\u3057\u305f\u3002\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}),(0,i.jsx)("h2",{children:"\u30ed\u30b0\u30a4\u30f3"}),(0,i.jsx)("div",{className:"w-4/5 my-5",children:(0,i.jsx)(d.Z,{register:j,errors:y,schema:"email",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"})}),(0,i.jsx)("div",{className:"w-4/5 mb-10",children:(0,i.jsx)(d.Z,{register:j,errors:y,schema:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9"})}),(0,i.jsx)(u.Z,{onClick:w(g),text:"\u30ed\u30b0\u30a4\u30f3"})]}),"loginPage"===r&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10",children:[(0,i.jsx)("h4",{children:"\u4f1a\u54e1\u767b\u9332\u306f\u3053\u3061\u3089\u304b\u3089"}),(0,i.jsx)(u.Z,{onClick:function(){return t.push("/register")},text:"\u4f1a\u54e1\u767b\u9332",type:"outlined"})]}),(0,i.jsx)(c.x7,{position:"bottom-center"})]})}},8735:function(e,r,t){"use strict";var n=t(5893);r.Z=function(e){var r=e.title,t=e.onClick,s=e.width,i=void 0===s?"m":s,l=e.selected,a=e.isMb,o=void 0===a||a,c=r.name.indexOf("Master")>-1?"border-[#d6c25b]":"border-gray-300",d="s"===i?"w-[100px]":"m"===i?"w-[250px]":"w-[24%]",u=r.id===(null===l||void 0===l?void 0:l.id)?"border-[#1C73BD] border-4":"border-2 ".concat(c);return(0,n.jsx)("img",{src:r.url,className:"rounded-md shadow-md border-solid ".concat(d," ").concat(u," ").concat(o&&"mb-2"),onClick:function(){return t&&t(r)}})}},8118:function(e,r,t){"use strict";t.r(r);var n=t(5893),s=t(7294),i=t(4931),l=t(1163),a=t(8262),o=t(1056),c=t(2856),d=t(9039),u=t(8735),x=t(8111),p=t(2429),m=t(5163);r.default=function(){var e=(0,l.useRouter)(),r=(0,s.useState)(!1),t=r[0],f=r[1],h=(0,x.qD)(),b=h.user,v=h.setUser,j=(0,x.JJ)().setParams,w=(0,p.YE)(b&&m.EP.profile(String(b.id))),y=w.data,g=w.error;(0,p.Z6)({isLoading:!y&&!g,error:b,isAuthApi:!0});var Z=function(e){return 1===String(e).length?"0"+e:e},N=y&&Z(Math.floor(y.play_time/3600)),k=y&&Z(Math.floor(y.play_time%3600/60)),P=y&&Z(y.play_time%60),S="".concat(N," : ").concat(k," : ").concat(P);return(0,n.jsx)(d.Z,{error:g,isLoading:!y,children:(0,n.jsxs)("div",{className:"flex flex-col w-full items-center bg-white p-10",children:[(0,n.jsx)("h2",{children:"\u30de\u30a4\u30da\u30fc\u30b8"}),b&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-center w-4/5 my-4",children:[(0,n.jsx)(o.Z,{src:b.icon,size:150}),(0,n.jsxs)("div",{className:"flex flex-col justify-center h-[150px] ml-10",children:[y&&(0,n.jsx)(u.Z,{width:"m",title:y.title}),(0,n.jsxs)("div",{className:"flex items-baseline",children:[(0,n.jsxs)("h2",{children:["Lv. ",b.level]}),(0,n.jsx)("h1",{className:"mb-4 ml-4",children:b.name})]})]})]}),(0,n.jsxs)("div",{className:"w-full mb-10 rounded-md py-5 flex flex-col",children:[(0,n.jsx)("p",{className:"text-center text-lg mb-4",children:"\u5165\u8cde\u5c65\u6b74"}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-b from-[#d6c25b] to-[#f7eaa9] w-[22%] rounded-md flex items-center justify-center flex-col py-4 shadow-md",children:[(0,n.jsx)("p",{className:"text-xl font-bold",children:"1\u4f4d"}),(0,n.jsxs)("div",{className:"flex my-2 items-baseline",children:[(0,n.jsx)("p",{className:"text-2xl font-bold mr-2",children:null===y||void 0===y?void 0:y.first}),(0,n.jsx)("p",{className:"text-xl font-bold",children:"\u56de"})]})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-b from-[#b1b1b1] to-[#e9e9e9] w-[22%] rounded-md flex items-center justify-center flex-col py-4 shadow-md",children:[(0,n.jsx)("p",{className:"text-xl font-bold",children:"2\u4f4d"}),(0,n.jsxs)("div",{className:"flex my-2 items-baseline",children:[(0,n.jsx)("p",{className:"text-2xl font-bold mr-2",children:null===y||void 0===y?void 0:y.second}),(0,n.jsx)("p",{className:"text-xl font-bold",children:"\u56de"})]})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-b from-[#e2be9c] to-[#fae1c9] w-[22%] rounded-md flex items-center justify-center flex-col py-4 shadow-md",children:[(0,n.jsx)("p",{className:"text-xl font-bold",children:"3\u4f4d"}),(0,n.jsxs)("div",{className:"flex my-2 items-baseline",children:[(0,n.jsx)("p",{className:"text-2xl font-bold mr-2",children:null===y||void 0===y?void 0:y.third}),(0,n.jsx)("p",{className:"text-xl font-bold",children:"\u56de"})]})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-b from-[#686868] to-[#acacac] w-[22%] rounded-md flex items-center justify-center flex-col py-4 shadow-md text-white",children:[(0,n.jsx)("p",{className:"text-xl font-bold",children:"Top10"}),(0,n.jsxs)("div",{className:"flex my-2 items-baseline",children:[(0,n.jsx)("p",{className:"text-2xl font-bold mr-2",children:null===y||void 0===y?void 0:y.topTen}),(0,n.jsx)("p",{className:"text-xl font-bold",children:"\u56de"})]})]})]})]}),(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsxs)("div",{className:"w-[48%] mb-10 rounded-md px-5 py-5 flex flex-col shadow-md border border-solid border-gray-100",children:[(0,n.jsx)("p",{className:"text-center text-lg mb-4",children:"\u7dcf\u30d7\u30ec\u30a4\u6642\u9593"}),(0,n.jsx)("p",{className:"text-center text-[40px] mb-4 font-bold",children:S})]}),(0,n.jsxs)("div",{className:"w-[48%] mb-10 rounded-md px-5 py-5 flex flex-col shadow-md border border-solid border-gray-100",children:[(0,n.jsx)("p",{className:"text-center text-lg mb-4",children:"\u30af\u30ea\u30a2\u56de\u6570"}),(0,n.jsxs)("div",{className:"flex items-baseline w-full justify-center",children:[(0,n.jsx)("p",{className:"text-center text-[40px] mb-4 font-bold",children:null===y||void 0===y?void 0:y.clear_times}),(0,n.jsx)("p",{className:"text-center text-[20px] mb-4 font-bold ml-2",children:"\u56de"})]})]})]}),(0,n.jsxs)("div",{className:"flex w-3/5 justify-between",children:[(0,n.jsx)(c.Z,{onClick:function(){return f(!0)},text:"\u30ed\u30b0\u30a2\u30a6\u30c8",type:"outlined"}),(0,n.jsx)(c.Z,{onClick:function(){j(y),e.push("/user/edit")},text:"\u7de8\u96c6"})]}),(0,n.jsx)(a.Z,{open:t,children:(0,n.jsxs)("div",{className:"flex flex-col py-10 px-20 items-center justify-center font-semibold",children:[(0,n.jsx)("p",{className:"font-bold text-xl",children:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"}),(0,n.jsxs)("div",{className:"flex mt-5 w-full justify-between",children:[(0,n.jsx)(c.Z,{onClick:function(){return f(!1)},text:"\u30ad\u30e3\u30f3\u30bb\u30eb",type:"outlined",width:"150px"}),(0,n.jsx)(c.Z,{onClick:function(){v(void 0),(0,m.VZ)(m.EP.logout()),i.ZP.success("\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f"),e.push("/top")},text:"OK",width:"150px"})]})]})})]}),(0,n.jsx)(i.x7,{position:"bottom-center"})]})})}},2148:function(e,r,t){"use strict";t.d(r,{pj:function(){return o},Tu:function(){return c},CG:function(){return d}});var n=t(4231),s="\u306f\u5fc5\u9808\u9805\u76ee\u3067\u3059\u3002",i="\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",l="\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a="\u82f1\u5b57\u3068\u6570\u5b57\u3092\u542b\u3081\u305f8-24\u6587\u5b57\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",o=n.Ry().shape({email:n.Z_().email(l).required("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9".concat(s)),password:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s))}),c=n.Ry().shape({email:n.Z_().email(l).required("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9".concat(s)),password:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s)),passConfirm:n.Z_().matches(/(?=.*[a-z])(?=.*[0-9])[0-9a-zA-Z]{8,64}/,a).required("\u30d1\u30b9\u30ef\u30fc\u30c9".concat(s)).oneOf([n.iH("password")],"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"),name:n.Z_().max(20,"20\u6587\u5b57".concat(i)).required("\u30e6\u30fc\u30b6\u30fc\u540d".concat(s))}),d=n.Ry().shape({icon:n.nK(),name:n.Z_().max(20,"20\u6587\u5b57".concat(i)).required("\u30e6\u30fc\u30b6\u30fc\u540d".concat(s))})}},function(e){e.O(0,[885,630,931,669,715,53,218,205,774,888,179],(function(){return r=8817,e(e.s=r);var r}));var r=e.O();_N_E=r}]);